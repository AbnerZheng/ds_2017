disconnect(0)
current term is 0, I'm 0:enter follow
disconnect(1)
disconnect(2)
connect(0)
connect(1)
current term is 0, I'm 2:enter follow
connect(2)
Test (2C): basic persistence ...
current term is 0, I'm 1:enter follow
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 0, I'm 1:receive request from application.
current term is 0, I'm 2:receive request from application.
current term is 0, I'm 0:receive request from application.
current term is 1, I'm 0:enter candidate
current term is 1, I'm 0:ask vote from 2
current term is 1, I'm 0:ask vote from 1
current term is 1, I'm 2:I have voted 0
current term is 1, I'm 2:enter follow
current term is 1, I'm 1:I have voted 0
current term is 1, I'm 1:enter follow
current term is 1, I'm 0:ask vote from 2, result is true
current term is 1, I'm 0:ask vote from 1, result is true
current term is 1, I'm 0:I'm the leader
current term is 1, I'm 0:enter leader, start heartbeat
current term is 1, I'm 0:start to broadcast append
current term is 1, I'm 0:heart beats sent to 1
current term is 1, I'm 0:heart beats sent to 2
current term is 1, I'm 0:to 2 is: {%!s(int=1) %!s(int=0) %!s(int=0) %!s(int=0) [] %!s(int=-1)}
current term is 1, I'm 0:to 1 is: {%!s(int=1) %!s(int=0) %!s(int=0) %!s(int=0) [] %!s(int=-1)}
current term is 1, I'm 2:prevLogIndex:0, prevLogTerm:0 entries: []
current term is 1, I'm 2:append log, now is [{<nil> %!s(int=0) %!s(int=0)}]
current term is 1, I'm 2:receive heartbeat
current term is 1, I'm 2:enter follow
current term is 1, I'm 1:prevLogIndex:0, prevLogTerm:0 entries: []
current term is 1, I'm 1:append log, now is [{<nil> %!s(int=0) %!s(int=0)}]
current term is 1, I'm 1:receive heartbeat
current term is 1, I'm 1:enter follow
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 0:enter leader, start heartbeat
current term is 1, I'm 0:start to broadcast append
current term is 1, I'm 0:heart beats sent to 1
current term is 1, I'm 0:heart beats sent to 2
current term is 1, I'm 0:to 2 is: {%!s(int=1) %!s(int=0) %!s(int=0) %!s(int=0) [{%!s(int=11) %!s(int=1) %!s(int=1)}] %!s(int=-1)}
current term is 1, I'm 0:to 1 is: {%!s(int=1) %!s(int=0) %!s(int=0) %!s(int=0) [{%!s(int=11) %!s(int=1) %!s(int=1)}] %!s(int=-1)}
current term is 1, I'm 1:prevLogIndex:0, prevLogTerm:0 entries: [{%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 2:prevLogIndex:0, prevLogTerm:0 entries: [{%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 1:append log, now is [{<nil> %!s(int=0) %!s(int=0)} {%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 1:receive heartbeat
current term is 1, I'm 1:enter follow
current term is 1, I'm 2:append log, now is [{<nil> %!s(int=0) %!s(int=0)} {%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 2:receive heartbeat
current term is 1, I'm 2:enter follow
current term is 1, I'm 0:now nextIndex is [%!s(int=1) %!s(int=2) %!s(int=1)]
current term is 1, I'm 0:now nextIndex is [%!s(int=1) %!s(int=2) %!s(int=2)]
current term is 1, I'm 0:enter leader, start heartbeat
current term is 1, I'm 0:start to broadcast append
current term is 1, I'm 0:dead lock hear
current term is 1, I'm 0:heart beats sent to 1
current term is 1, I'm 0:apply command
current term is 1, I'm 0:heart beats sent to 2
receive command
current term is 1, I'm 0:to 1 is: {%!s(int=1) %!s(int=0) %!s(int=1) %!s(int=1) [] %!s(int=1)}
current term is 1, I'm 0:to 2 is: {%!s(int=1) %!s(int=0) %!s(int=1) %!s(int=1) [] %!s(int=1)}
cfg.logs[0][1] = 11 
current term is 1, I'm 1:prevLogIndex:1, prevLogTerm:1 entries: []
current term is 1, I'm 2:prevLogIndex:1, prevLogTerm:1 entries: []
current term is 1, I'm 1:receive heartbeat
current term is 1, I'm 1:append log, now is [{<nil> %!s(int=0) %!s(int=0)} {%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 2:receive heartbeat
current term is 1, I'm 1:enter follow
current term is 1, I'm 2:enter follow
current term is 1, I'm 2:append log, now is [{<nil> %!s(int=0) %!s(int=0)} {%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 1, I'm 1:apply command
receive command
cfg.logs[1][1] = 11 
current term is 1, I'm 2:apply command
receive command
cfg.logs[2][1] = 11 
finish test one
disconnect(0)
disconnect(1)
current term is 1, I'm 0:enter follow
disconnect(2)
current term is 1, I'm 1:enter follow
disconnect(0)
connect(0)
disconnect(1)
current term is 1, I'm 2:enter follow
connect(1)
disconnect(2)
connect(2)
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 1, I'm 1:receive request from application.
current term is 1, I'm 2:receive request from application.
current term is 1, I'm 0:receive request from application.
current term is 2, I'm 1:enter candidate
current term is 2, I'm 1:ask vote from 2
current term is 2, I'm 1:ask vote from 0
current term is 2, I'm 2:I have voted 1
current term is 2, I'm 2:enter follow
current term is 2, I'm 0:I have voted 1
current term is 2, I'm 0:enter follow
current term is 2, I'm 1:ask vote from 2, result is true
current term is 2, I'm 1:I'm the leader
current term is 2, I'm 1:enter leader, start heartbeat
current term is 2, I'm 1:start to broadcast append
current term is 2, I'm 1:heart beats sent to 0
current term is 2, I'm 1:heart beats sent to 2
current term is 2, I'm 1:ask vote from 0, result is true
current term is 2, I'm 1:to 0 is: {%!s(int=2) %!s(int=1) %!s(int=1) %!s(int=1) [] %!s(int=-1)}
current term is 2, I'm 1:to 2 is: {%!s(int=2) %!s(int=1) %!s(int=1) %!s(int=1) [] %!s(int=-1)}
current term is 2, I'm 0:prevLogIndex:1, prevLogTerm:1 entries: []
current term is 2, I'm 0:append false
current term is 2, I'm 0:receive heartbeat
current term is 2, I'm 0:enter follow
current term is 2, I'm 2:prevLogIndex:1, prevLogTerm:1 entries: []
current term is 2, I'm 2:append log, now is [{<nil> %!s(int=0) %!s(int=0)} {%!s(int=11) %!s(int=1) %!s(int=1)}]
current term is 2, I'm 2:receive heartbeat
current term is 2, I'm 2:enter follow
current term is 2, I'm 1:receive request from application.
current term is 2, I'm 1:enter leader, start heartbeat
current term is 2, I'm 1:start to broadcast append
exit status 2
FAIL	raft	1.592s
